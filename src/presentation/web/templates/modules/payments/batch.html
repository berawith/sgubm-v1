<!-- BATCH PAYMENTS VIEW -->
<div id="batch-payments-view" class="view content-view" style="display: none;">
    <div class="view-header"
        style="margin-bottom: 24px; display: flex; align-items: center; justify-content: space-between;">
        <div>
            <h1 class="page-title">Gestión Masiva</h1>
            <p class="page-subtitle">Operaciones masivas de suspensión y activación</p>
        </div>
    </div>

    <div class="glass-panel" style="padding: 24px;">
        <div style="display: flex; gap: 24px; align-items: flex-start;">
            <!-- Filters Column -->
            <div style="width: 300px; padding-right: 24px; border-right: 1px solid #e2e8f0;">
                <h3 style="margin-top:0; font-size:1rem; color: #475569; margin-bottom: 15px;">Filtros de Selección</h3>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label class="input-label-premium">Router</label>
                    <select id="batch-filter-router" class="input-premium"
                        onchange="app.modules.payments.loadBatchClients()">
                        <option value="">Todos los Routers</option>
                    </select>
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label class="input-label-premium">Estado</label>
                    <select id="batch-filter-status" class="input-premium"
                        onchange="app.modules.payments.loadBatchClients()">
                        <option value="active">Activos</option>
                        <option value="suspended">Suspendidos</option>
                        <option value="debtors">Pendientes (Con Deuda)</option>
                    </select>
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label class="input-label-premium">Búsqueda Rápida</label>
                    <input type="text" id="batch-search" class="input-premium" placeholder="Nombre..."
                        oninput="app.modules.payments.loadBatchClients()">
                </div>

                <button class="btn-primary" style="width: 100%; margin-bottom: 24px;"
                    onclick="app.modules.payments.loadBatchClients()">
                    <i class="fas fa-search"></i> Buscar Clientes
                </button>

                <!-- Actions Bar (Moved here) -->
                <div class="mass-actions-sidebar glass-panel"
                    style="padding: 16px; background: rgba(var(--primary-rgb), 0.03); border: 1px solid rgba(var(--primary-rgb), 0.1); border-radius: 12px;">
                    <h4
                        style="margin-top:0; font-size:0.75rem; color: #64748b; margin-bottom: 12px; text-transform: uppercase; font-weight: 800; letter-spacing: 0.05em;">
                        Acción Masiva</h4>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <button class="btn-premium" onclick="app.modules.payments.executeBatch('suspend')"
                            style="background: #ef4444; border-color: #ef4444; width: 100%; justify-content: center; font-size: 0.8rem; padding: 10px;">
                            <i class="fas fa-ban"></i> SUSPENDER / CORTAR
                        </button>
                        <button class="btn-premium" onclick="app.modules.payments.executeBatch('restore')"
                            style="background: #6366f1; border-color: #6366f1; width: 100%; justify-content: center; font-size: 0.8rem; padding: 10px;">
                            <i class="fas fa-play"></i> ACTIVAR / RESTAURAR
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results & Actions Column -->
            <div style="flex: 1;">
                <div class="toolbar-actions" style="justify-content: space-between; margin-bottom: 15px;">
                    <div style="font-weight: 600; color: #475569;">
                        Seleccionados: <span id="batch-selected-count"
                            style="color: #6366f1; font-weight: 800;">0</span>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn-secondary" onclick="app.modules.payments.toggleSelectAllBatch('button')">
                            <i class="fas fa-check-double"></i> Todos
                        </button>
                    </div>
                </div>

                <!-- Client List -->
                <div class="table-container-premium glass-panel"
                    style="height: 400px; overflow-y: auto; margin-bottom: 20px;">
                    <table class="premium-data-table">
                        <thead>
                            <tr>
                                <th width="40"><input type="checkbox" id="batch-select-all-header"
                                        onclick="app.modules.payments.toggleSelectAllBatch()"></th>
                                <th>Cliente</th>
                                <th style="width: 15%;">IP</th>
                                <th style="width: 15%;">ESTADO SERVICIO</th>
                                <th style="width: 15%;">ESTADO FINANCIERO</th>
                                <th style="width: 15%;">DEUDA</th>
                            </tr>
                        </thead>
                        <tbody id="batch-clients-table">
                            <!-- Dynamic -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>